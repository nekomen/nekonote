<!DOCTYPE html>
<html>
<head>
    <title>nekonote</title>
    <link rel="shortcut icon" href="nekohan_v4f.ico">
    <meta charset="UTF-8">
    <meta name="ROBOTS" content="NOINDEX,NOFOLLOW">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <style type="text/css">
    <!--
      * {
        margin: 0px;
        padding: 0px;
      }
      body {
        background:#fff;
        margin: 0;
        -webkit-text-size-adjust: 100%;/*縦向き (Portrate mode) と横向き (Landscape mode) の文字サイズを自動調整*/
      }
      body, html, .divMain {
        height: 100%;
        width: 100%;
        text-align: center;
        background: #fff;
      }
      .divMain {
        width:80%;
        display:inline-block;
      }
      .btn {
        font-size: 16px;
        color: #fff;
        background: #000066;
        border: 1px solid #333;
        display: block;
        text-align: center;
        width: 150px;
        height: 26px;
        line-height: 26px;
        white-space:nowrap;
        margin: 5px auto 10px auto;
        padding: 4px 10px 2px 10px;
        border-radius: 6px;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
        text-decoration: none;
        background:#000099;
         transition: background-color 0.3s;
      }
      .btnS{
        font-size:11pt;
      }
      .btn:hover {
        background: #0000cc;
      }
      .divH {
        font-style: normal;
        font-size: 22pt;
        width: 100%;
        height: 60px;
        text-align:center;
        background: #0592d0;
        color: #fff;
        box-shadow: rgba(0, 0, 68, 0.6) 0px 0px 4px 2px;
        -webkit-box-shadow: rgba(0, 0, 68, 0.6) 0px 0px 4px 2px;
        -moz-box-shadow: rgba(0, 0, 68, 0.6) 0px 0px 4px 2px;
        margin-bottom: 10px;
      }
        .divH > div {
          display: inline-table;
          height: 60px;
        }
       .ulH, .ulA, .ulA > ul {
          list-style: none;
        }
        .ulH, .ulA {
          display: table-row;
        }
        .ulA > ul {
          display: inline-table;
        }
        .ulH >li, .ulA > li > ul > li {
          display: table-cell;
          vertical-align:middle;
        }
            .ulA > li > ul > li:nth-child(2) {
              padding-left: 8px;
            }
          .ulH > li:first-child {
            padding-top: 6px;
          }
          .ulH > li:nth-child(2) {
            padding-left:6px;
          }

      .spnExp {
        font-size: 12pt;
        margin-bottom: 100px;
        font-weight: normal;
      }
      .divFooter {
        margin: 100px 0px;
      }
       .spnFooter {
        font-size: 10pt;
        font-weight: normal;
      }
      .divExp {
        text-align: left;
        line-height: 1.2em;
        font-size: 11pt;
        margin: 10px 0px;
      }
      .divExp > span:first-child {
        font-size: 16pt;
        line-height:32pt;
      }

      hr {
        margin:30px 0px;
      }

          -->
    </style>
</head>
<body>

  <div class="divH">
    <div>
      <ul class="ulH">
        <li><img alt="" src="nekomen48.png" style="width:48px;height:48px;display:inline;" /></li>
        <li>猫の手も借りたい&nbsp;～IntelMap用ブックマークレット集～</li>
      </ul>
    </div>
  </div>

  <div class="divMain">
    <span class="spnExp">各ボタンをお気に入りバーにドラッグ&ドロップしてご使用ください。<br />
      バグとか何か要望があれば<a href="https://plus.google.com/+nekomen/" target="_blank">nekomen</a>まで連絡ください。<br />
      <br />
      ※改変はご自由にどうぞ。<br />
      ※このページの外部へのリンクなどはご遠慮ください。<br />
    </span>
    <div class="divExp">
      <span>■ポータル情報取得くん v3.3(更新日：20150619)</span><br />
      [説明]<br />
      Intel Map で選択したポータル情報をクリップボードに入れる<br />
      <br />
        [使用方法]<br />
        ①intelマップを開く<br />
        ②ブックマークレットを実行<br />
③目標のポータルをクリック<br />
④Ctrl+C（コピー）<br />
<br />
※①②は一度やればOK。③～④は繰り返し実行可能<br />
※違う②で機能の切り替えが可能<br />
※console.logにクリップボードに入れたデータが表示されるので、確認と連続使用などにどうぞ<br />
&nbsp;&nbsp;（WindowsではF12キーを押すと出てくる developer tools の中のconsoleで確認できる）<br />
<br />
[改訂情報]<br />
※リンク補助線が入ると上手く動作しないのを改良（v2.0～）<br />
※ポータル選択後に都度、右上のLinkボタンを押す必要をなくした（v3.0～）<br />
※右上のLinkボタンでMap Linkウィンドウを出しているときは Map linkを優先してコピーすることにした（v3.0～）<br />
※console.logにクリップボードに入れたデータを表示するようにした（v3.0～）<br />
※Googleスプレッドシート用にリンクつきポータル名をコピペできるものを追加（v3.3～）<br />
</div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp=(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1)?document.getElementById('portal_primary_title').firstChild.nodeValue:mv;e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル名</a>
          </li>
          <li>
            ex：札幌駅 中央北口
          </li>
        </ul>
      </li>
      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp=(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1)?document.getElementById('portal_primary_title').firstChild.nodeValue+'\t'+mv.substr(0,mv.indexOf('&',mv.indexOf('&')+1))+'&pll='+mv.split('&pll=')[1]:mv;e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル名+リンク</a>
          </li>
          <li>
            ex：札幌駅 中央北口	https://www.ingress.com/intel?ll=43.069549,141.351946&z=17&pll=43.069072,141.350746
          </li>
        </ul>
      </li>

      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp=(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1)?document.getElementById('portal_primary_title').firstChild.nodeValue+'\t'+(mv.substr(0,mv.indexOf('&',mv.indexOf('&')+1))+'&pll='+mv.split('&pll=')[1]).replace(/https(.*)pll=/,'').replace(/,/,'\t'):mv;e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル名+座標</a>
          </li>
          <li>
            ex：札幌駅 中央北口	43.069072	141.350746
          </li>
        </ul>
      </li>

      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp=(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1)?document.getElementById('portal_primary_title').firstChild.nodeValue+'\t'+mv.substr(0,mv.indexOf('&',mv.indexOf('&')+1))+'&pll='+mv.split('&pll=')[1]+'\t'+(mv.substr(0,mv.indexOf('&',mv.indexOf('&')+1))+'&pll='+mv.split('&pll=')[1]).replace(/https(.*)pll=/,'').replace(/,/,'\t'):mv;e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポタ名+リンク+座標</a>
          </li>
          <li>
            ex：札幌駅 中央北口	https://www.ingress.com/intel?ll=43.068405,141.351292&z=17&pll=43.069072,141.350746	43.069072	141.350746
          </li>
        </ul>
      </li>

      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp;if(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1){var pc=document.getElementById('portal_info_windows').className;var clr=(!pc.indexOf('NEUTRAL'))?'白':(pc.indexOf('RES'))?'緑':'青';var pv=document.getElementById('portal_primary_title').firstChild.nodeValue;var ow=(clr!=='白')?':'+document.getElementById('portal_capture_details').firstChild.innerHTML:'';cmp=pv+' ('+clr+ow+')'}else{cmp=mv}e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn btnS" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル名(色:Owner)</a>
          </li>
          <li>
            ex：札幌駅 中央北口 (青:nekomen)
          </li>
        </ul>
      </li>

      <li>
        <ul>
          <li>
            <a href="javascript:document.oncopy=function(e){displaymaplink();var mv=document.getElementById('maplink').value;var cmp=(document.getElementById('portal_info_windows')&&document.getElementById('header_maplink').className.indexOf('show_box')===-1)?'=HYPERLINK(\u0022'+mv.substr(0,mv.indexOf('&',mv.indexOf('&')+1))+'&pll='+mv.split('&pll=')[1]+'\u0022,\u0022'+document.getElementById('portal_primary_title').firstChild.nodeValue+'\u0022)':mv;e.preventDefault();e.clipboardData.setData('text',cmp);console.log(cmp)}" class="btn btnS" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル名SP</a>
          </li>
          <li>
            ex：=HYPERLINK("https://www.ingress.com/intel?ll=43.068891,141.35259&z=17&pll=43.069072,141.350746","札幌駅 中央北口")
          </li>
        </ul>
      </li>

      //

    </ul>
    <hr />

    <div class="divExp">
      <span>■君と僕との距離 v1.0(更新日：20150613)</span><br />
      [説明]<br />
      ポータル間の距離をkmで求めます。<br />
      （Bombasさん作成の距離を求めるブックマークレットを自分用に改造したもの）<br />
      <br />
      [使用方法]<br />
      ①インテルマップを表示<br />
      ②ブックマークレットを実行<br />
      ③開発者ツールでコンソールを表示させる（※必須ではない）<br />
      ④ポータルを選択(A)<br />
      ⑤Ctrl+C (Cosoleに ポータル名 + リンク)<br />
      ⑥ポータルを選択(B)<br />
      ⑦Ctrl+C (Cosoleに ポータル名 + リンク)<br />
      ⑧クリップボードとCosoleに以下の情報が設定されます。<br />
      距離(km)+ポータル名(A)+座標(A)+ポータル名(B)+座標(B)<br />
      ※続けてポータルを選択(C)した場合、B～C間の距離を求めます。<br />
      <br />
    </div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:var p1='',l1='',p2='',l2='',la1=0,lo1=0,la2=0,lo2=0;document.oncopy=function(e){displaymaplink();var ml=document.getElementById('maplink').value;if(document.getElementById('header_maplink').className.indexOf('show_box')>-1){e.preventDefault();e.clipboardData.setData('text',ml);console.log(ml);return}if(!document.getElementById('portal_info_windows'))return;var cmp=(document.getElementById('header_maplink').className.indexOf('show_box')===-1)?document.getElementById('portal_primary_title').firstChild.nodeValue+'\t'+ml.substr(0,ml.indexOf('&',ml.indexOf('&')+1))+'&pll='+ml.split('&pll=')[1]:ml;console.log(cmp);var p0=document.getElementById('portal_primary_title').firstChild.nodeValue;var ll=ml.replace(/https(.*)pll=/,'');var arr=ll.split(',');p2=p0;l2=ll;la2=arr[0];lo2=arr[1];var k=p1+'\t'+l1+'\t'+p2+'\t'+l2;if(p1!=''&&p2!=''){var a_lat=la1*Math.PI/180;var a_lon=lo1*Math.PI/180;var b_lat=la2*Math.PI/180;var b_lon=lo2*Math.PI/180;var latave=(a_lat+b_lat)/2;var latidiff=a_lat-b_lat;var longdiff=a_lon-b_lon;var meridian=6335439/Math.sqrt(Math.pow(1-0.006694*Math.sin(latave)*Math.sin(latave),3));var primevertical=6378137/Math.sqrt(1-0.006694*Math.sin(latave)*Math.sin(latave));var x=meridian*latidiff;var y=primevertical*Math.cos(latave)*longdiff;k=Math.round(Math.sqrt(Math.pow(x,2)+Math.pow(y,2))/10)/100+'\tkm\t'+k;e.preventDefault();e.clipboardData.setData('text',k);console.log(k);}p1=p2;l1=l2;la1=la2;lo1=lo2}" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">ポータル距離(km)</a>
          </li>
        </ul>
      </li>
    </ul>
    <hr />

    <div class="divExp">
      <span>■Map to Map v1.1(更新日：20150913)</span><br />
      [説明]<br />
      下記二つのMap用を合わせて、さらに Google Map → Intel Mapを追加した<br />
      ※これだけ登録しておけば、下記二つは必要ない<br />
      <br />
      Intel Map で表示中はGoogle Mapへ<br />
      Google Map で表示中はIntel Mapへ<br />
      ミッション作成ツールはIntel Map へ<br />
      <br />
      [使用方法]<br />
      ①Mapを開く（ポータル選択や拡大などする）<br />
      ②ブックマークレットを実行<br />
      ③新しいWindowが開かれる<br />
      <br />
      [改訂情報]<br />
      ※httpからhttpsに変更しないと上手く飛べなくなってたので修正（v1.1～）
    </div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:(function(){var intel='https://www.ingress.com/intel?ll=';switch(true){case(location.href.indexOf(intel,0)>-1):var maps='https://maps.google.co.jp/maps?ll=';displaymaplink();var mv=document.getElementById('maplink').value;var z=mv.replace(/(.*)&z=/,'').replace(/&pll=(.*)/,'');var ll=mv.replace(/https(.*)\?ll=/,'').split(',');var url=maps+ll[0]+','+ll[1].replace(/&z=(.*)/,'')+'&z='+z;if(mv.indexOf('pll',0)>-1){var pll=mv.replace(/https(.*)pll=/,'').split(',');url+='&q='+pll[0]+','+pll[1]}window.open(url);break;case(location.href.indexOf('https://mission-author-dot-betaspike.appspot.com',0)>-1):var aa=document.getElementsByTagName('a');var url=aa[3].href;url=url.replace('https://maps.google.com/maps?ll=','');url=url.replace('&z=',',');url=url.replace(/&t=(.*)/,'');var arr=url.split(',');window.open(intel+arr[0]+','+arr[1]+'&z='+arr[2]);break;case(/google(.+)maps/.test(location.href)):var url=location.href.replace(/(.*)@/,'').replace(/z(.*)/,'');var arr=url.split(',');window.open(intel+arr[0]+','+arr[1]+'&z='+arr[2]);break;default:return}})();" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">MapToMap</a>
          </li>
        </ul>
      </li>
    </ul>
    <hr />

    <div class="divExp">
      <span>■ポータル名から検索くん v2.1(更新日：20150913)</span><br />
      [説明]<br />
      ミッション作成ツールで表示させたポータルの近くを、<br />
      Intel Map で表示させる<br />
      <br />
      [使用方法]<br />
      ①ミッション作成ツールにて広域で地図を表示します<br />
      ②名前で検索したりしてポータルを表示させます<br />
      ③対象ポータルを中央に拡大して表示<br />
      ④ブックマークレットを実行する<br />
      ⑤Intel Mapで周辺地域が開かれる<br />
      <br />
      [改訂情報]<br />
      ※③の後にGoogle Mapへ行かなくても済むように改良（by Bombas）（v2.0～）<br />
      ※httpからhttpsに変更しないと上手く飛べなくなってたので修正（v2.1～）
    </div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:(function(){var aa=document.getElementsByTagName('a');var url=aa[3].href;url=url.replace('https://maps.google.com/maps?ll=','');url=url.replace('&z=',',');url=url.replace(/&t=(.*)/,'');var arr=url.split(',');window.open('https://www.ingress.com/intel?ll='+arr[0]+','+arr[1]+'&z='+arr[2])})();" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">MissionToIntel</a>
          </li>
        </ul>
      </li>
    </ul>
    <hr />

    <div class="divExp">
      <span>■Google Mapで見たいんじゃ v1.1(更新日：20150913)</span><br />
      [説明]<br />
      Intel Map で表示させたポータルを、<br />
      Google Map のピン有りで表示させます<br />
      ※ポータルを選択しない場合、Google Map で開くだけ<br />
      <br />
      [使用方法]<br />
      ①Intel Map でポータルを選択<br />
      ②ブックマークレットを実行<br />
      ③Google Map で開かれる<br />
      <br />
      [改訂情報]<br />
      ※httpからhttpsに変更しないと上手く飛べなくなってたので修正（v1.1～）
    </div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:(function(){var intel='https://www.ingress.com/intel?ll=';if(location.href.indexOf(intel,0)===-1)return;var maps='https://maps.google.co.jp/maps?ll=';displaymaplink();var mv=document.getElementById('maplink').value;var z=mv.replace(/(.*)&z=/,'').replace(/&pll=(.*)/,'');var ll=mv.replace(/https(.*)\?ll=/,'').split(',');var url=maps+ll[0]+','+ll[1].replace(/&z=(.*)/,'')+'&z='+z;if(mv.indexOf('pll',0)>-1){var pll=mv.replace(/https(.*)pll=/,'').split(',');url+='&q='+pll[0]+','+pll[1]}window.open(url)})();" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">IntelToMap</a>
          </li>
        </ul>
      </li>
    </ul>
    <hr />

    <div class="divExp">
      <span>■デプロイれぞねーたん v2.0(更新日：20150524)</span><br />
      [説明]<br />
      実行するたびにR1～R8のれぞねーたん（北海道RES非公認キャラクター）が Intel Map に降臨する<br />
      ドラッグ可能。クリックすると跳ねる。実用性はない<br />
      <br />
      [使用方法]<br />
      ①intelマップを開く<br />
      ②ブックマークレットを実行<br />
    </div>
    <ul class="ulA">
      <li>
        <ul>
          <li>
            <a href="javascript:(function(d,s){s=d.createElement('script');s.src='https://googledrive.com/host/0By0NVcJIpH_2VEN4dkJJNEVneGs';d.body.appendChild(s);})(document)" class="btn" onclick="return false;" title="このボタンをブックマークバーにドラッグ&ドロップ">れぞねーたん</a>
          </li>
        </ul>
      </li>
    </ul>

      <div class="divFooter">
        <span class="spnFooter">Only Resistance available.</span><br /><br />
      </div>

</div>
    <script type="text/javascript">
    <!--

    //-->
    </script>
</body>
</html>